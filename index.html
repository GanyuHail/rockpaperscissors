<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors</title>
</head>

<body>
  <div style="margin-bottom: 20px">
    <input type="button" value="Rock"></input>
    <input type="button" value="Paper"></input>
    <input type="button" value="Scissors"></input>
  </div>
  <div id="result"></div>
  <div>
    <button id='reset'>Play Again!</button>
  </div>

  <script>

    const buttons = document.querySelectorAll('input')
    const resetBtn = document.querySelector('#reset');
    let choices = ["Rock", "Paper", "Scissors"];

    function computerPlay(choices) {

      return choices[Math.floor(Math.random() * choices.length)];
    }

    var computerSelection = computerPlay(choices);
    var cpuCounter = 0;
    var playerCounter = 0;

    function playRound(playerSelection) {
      let result = ""
      let computerSelection = computerPlay(choices);

      if
        ((playerSelection === "Rock" && computerSelection === "Rock") ||
        (playerSelection === "Paper" && computerSelection === "Paper") ||
        (playerSelection === "Scissors" && computerSelection === "Scissors")) {
        result = ["Tie!" + "\nPlayer Score: " + playerCounter + " | " + "Computer Score: " + cpuCounter + "\nComputer Chose: " + computerSelection]
      }

      else if
        ((playerSelection === "Rock" && computerSelection === "Paper") ||
        (playerSelection === "Paper" && computerSelection === "Scissors") ||
        (playerSelection === "Scissors" && computerSelection === "Rock")) {
        cpuCounter += 1;
        result = ["Computer wins round" + "\nPlayer Score: " + playerCounter + " | " + "Computer Score: " + cpuCounter + "\nComputer Chose: " + computerSelection];
      }

      else if
        ((playerSelection === "Rock" && computerSelection === "Scissors") ||
        (playerSelection === "Paper" && computerSelection === "Rock") ||
        (playerSelection === "Scissors" && computerSelection === "Paper")) {
        playerCounter += 1;
        result = ["Player wins round" + "\nPlayer Score: " + playerCounter + " | " + "Computer Score: " + cpuCounter + "\nComputer Chose: " + computerSelection];
      }
      (result);

      function disableButtons() {
        buttons.forEach(elem => {
          elem.disabled = true
        })
      }

      function endGame() {
        if (playerCounter >= 5) {
          alert2 = "Game Over! You Win!" + "\nPlayer Chose: " + playerSelection + " | Computer Chose: " + computerSelection + "\nFinal Score ~ Player: " + playerCounter + " | CPU: " + cpuCounter;
        } else if (cpuCounter >= 5) {
          alert2 = "Game Over! You Lost!" + "\nPlayer Chose: " + playerSelection + " | Computer Chose: " + computerSelection + "\nFinal Score ~ Player: " + playerCounter + " | CPU: " + cpuCounter;
        }
        disableButtons();
      };

      while (playerCounter < 5 && cpuCounter < 5) {

        document.getElementById('result').innerHTML = result;
        return result;
      }
      if (playerCounter >= 5 || cpuCounter >= 5) {
        endGame();

        document.getElementById('result').innerHTML = alert2;
        return alert2;
      }
    };

    buttons.forEach(button => {
      button.addEventListener('click', function () {
        playRound(button.value)
      })
    });

    resetBtn.addEventListener('click', () => location.reload());

  </script>
</body>

</html>